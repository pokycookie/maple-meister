# [Maple Meister](https://pokycookie.github.io/maple-meister/)

## 소개

Maple Meister는 Nexon의 온라인 RPG게임 메이플스토리의 전문기술 컨텐츠를 더욱 체계적으로 즐길 수 있도록 도와주기 위한 웹 어플리케이션 입니다. 해당 어플리케이션은 메이플스토리 게임 프로그램에 직접적으로 관여하지 않으며, 단순히 보조적인 역할만을 수행한다는 것을 밝힙니다.

Maple Mesiter는 다음과 같은 기능을 제공합니다.

- 제작 쿨타임이 완료되는 시간을 알려주는 반복 타이머
- 아이템의 현재 시세를 기록할 수 있는 페이지
- 아이템의 거래 기록을 기록할 수 있는 페이지
- 시간에 따른 아이템의 시세를 차트로 확인
- 작성된 레시피를 토대로 재료 아이템과 결과 아이템의 시세를 비교하여 순수익을 차트로 확인

## 사용법

### **타이머 페이지**

Maple Meister에 내장된 타이머는 무한히 반복하는 반복 타이머입니다. 최소 1초부터 최대 23시간 59분 59초까지 시간을 설정할 수 있으며, 설정된 시간이 지나게 되면 다시 처음 설정된 시간으로 돌아가 타이머 기능을 계속 반복합니다.

타이머가 작동중일때 PAUSE버튼을 눌러 일시정지를 할 수 있고, STOP버튼을 눌러 타이머를 완전히 정지시키고 원래 상태로 되돌릴 수 있습니다.

자주 사용하는 타이머 시간은 저장해두었다가 다음에 즉시 설정할 수 있습니다. 타이머 페이지의 우측 하단 버튼 두 개를 이용해 현재 타이머 시간을 저장하거나, 저장된 타이머 시간을 바로 적용할 수 있습니다.

### **차트 페이지**

차트 페이지에서는 아이템의 시세 변화를 차트로 확인할 수 있습니다. 좌측 상단의 옵션창을 이용해서 시세를 확인할 아이템을 설정할 수 있고, 우측 상단의 옵션창을 이용해서 시세를 확인할 기간을 정할 수 있습니다.

기간 옵션은 `daily` `weekly` `monthly`로 나뉘며, 각각 하루 단위, 일주일 단위, 한 달 단위로 기간을 설정할 수 있습니다. `daily`옵션일 경우에는 하루의 모든 데이터를 차트로 보여주며, `weekly` `monthly`옵션일 경우에는 하루 단위로 데이터를 모아 평균을 낸 다음 차트로 표시합니다.

### **레시피 페이지**

레시피 페이지에서는 제작 레시피 중 어떤 레시피가 가장 높은 순이익을 만들어 낼 수 있는지를 파이 차트의 형태로 보여줍니다. 해당 차트는 가장 최근의 아이템 시세를 기준으로 만들어집니다.

이때 사용할 레시피는 해당 페이지 우측 하단의 버튼을 이용해서 새롭게 추가하거나 삭제할 수 있습니다. 레시피를 추가할때는 결과 아이템과 재료 아이템을 선택하고, 각 아이템의 개수를 정할 수 있습니다. 이때 재료 아이템의 경우 필요한 재료의 종류만큼 여러 번 추가할 수 있으며, 잘못된 아이템을 재료로 추가했거나 필요한 재료 개수를 잘못 설정했을 경우 재료 리스트에서 클릭해서 삭제할 수 있습니다. 레시피의 이름은 기본적으로 결과 아이템의 이름에 '제작 레시피'가 붙은 형태로 설정됩니다. 필요하다면 원하는 이름으로 수정할 수 있습니다.

각 파이 차트를 클릭하면 해당 레시피의 결과 아이템과 재료 아이템 목록들을 확인할 수 있고, 동시에 해당 아이템들의 가장 최근 시세를 확인할 수 있습니다. 각 아이템을 클릭하면 해당 아이템의 가격을 새로운 값으로 업데이트 할 수 있습니다. 이때 업데이트 된 아이템의 가격은 실제 데이터베이스에 반영됩니다.

만약 데이터베이스의 아이템 가격을 최신 값으로 업데이트 하고 싶지는 않지만, 아이템 가격이 변동됨에 따라 달라지는 레시피의 효율을 서로 비교하고 싶다면, 레시피 페이지의 아래 숨겨진 창을 열어 임시적으로 아이템 가격을 변경할 수 있습니다. 해당 기능을 이용하여 변경한 아이템 가격은 레시피 페이지에서만 임시적으로 적용되며, 다른 페이지의 아이템 가격에는 영향을 끼치지 않습니다.

### **거래 페이지**

거래 페이지에서는 아이템을 사고 판 기록을 저장합니다. 거래한 아이템의 종류를 정하고 얼마에 거래했는지, 몇 개를 거래했는지를 적고, 판매 또는 구입버튼을 눌러 거래를 기록합니다. 이때 거래의 종류가 판매이든 구입이든 간에 거래가 기록된다면, 자동으로 해당 거래 가격으로 거래 아이템의 최신 시세를 업데이트 합니다.

지금까지의 거래 내역을 확인하고 싶다면, 거래 페이지의 우측 하단 버튼을 눌러 확인할 수 있습니다.

### **아이템 페이지**

아이템 페이지에서는 새로운 아이템을 추가하거나, 기존의 아이템의 가격을 업데이트 할 수 있습니다. 우측 하단 버튼들을 이용해서 새로운 아이템을 추가하거나, 아이템 가격의 변화 내역을 확인할 수 있습니다.

아이템 페이지는 아이템의 가격을 업데이트 할 수 있는 공간이지만, 그렇다고 아이템 가격을 업데이트 할 수 있는 유일한 공간은 아닙니다. 레시피 페이지에서 특정 레시피를 클릭해 해당 레시피에 사용되는 아이템의 가격을 업데이트 할 수 있으며, 거래 페이지에서 구입 또는 판매를 통해서도 사용된 아이템의 가격을 업데이트 할 수 있습니다.

또한 아이템 가격의 변화 내역 역시 차트 페이지를 이용하면 차트를 통해 더욱 간편하게 확인할 수 있습니다. 따라서 새로운 아이템을 생성하거나, 거래를 하지 않았으며 레시피와도 관련이 없는 아이템의 가격을 업데이트 하기 위해서만 해당 페이지를 사용할 가능성이 높습니다.

## 기술

---

## 🎯 TODO LIST

- [ ] 아이템 삭제
- [ ] 데이터베이스 값 수정 및 삭제

## Setting

### Database

### MMDF

#### backup

- [ ] default: 기존의 모든 내용을 삭제하고 파일의 내용대로 데이터들을 새로 생성
- [ ] option1: 기존의 데이터를 모두 유지한 상태로 새롭게 데이터들을 생성
- [ ] option2: 기존의 모든 내용을 삭제하고 파일의 내용대로 데이터들을 새로 생성

#### recipe

- [x] default: 같은 이름의 레시피가 없다면 파일의 내용대로 레시피를 새로 생성
- [x] default: 같은 이름의 레시피가 이미 있다면 건드리지 않음
- [x] option1: 같은 이름의 레시피의 `items` `name` `resultCount` `resultItem`을 업데이트
- [ ] option2: 기존의 모든 내용을 삭제하고 파일의 내용대로 레시피를 새로 생성

#### item

- [x] default: 같은 이름의 아이템이 없다면 파일의 내용대로 아이템을 새로 생성
- [x] default: 같은 이름의 아이템의 `price`를 업데이트
- [x] option1: 같은 이름의 아이템이 이미 있다면 건드리지 않음
- [ ] option2: 기존의 모든 내용을 삭제하고 파일의 내용대로 아이템을 새로 생성

#### itemLog

- [ ] default: 파일의 내용대로 아이템 로그를 새로 생성
- [ ] default: 같은 시간대의 로그는 무시함
- [ ] option1: 같은 시간대의 로그는 덮어씀
- [ ] option2: 기존의 모든 내용을 삭제하고 파일의 내용대로 로그를 새로 생성

#### ledger

- [ ] default: 파일의 내용대로 거래 장부를 새로 생성
- [ ] option1: `assets`을 0으로 통일하여 거래 장부를 생성
- [ ] option2: 기존의 모든 내용을 삭제하고 파일의 내용대로 거래 장부를 새로 생성
